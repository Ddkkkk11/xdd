<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>04_闭包的生命周期</title>

</head>

<body>
  <!--
1. 产生: 在嵌套内部函数定义执行完时就产生了(不是在调用)
2. 死亡: 在嵌套的内部函数成为垃圾对象时
-->
  <script type="text/javascript">
    function fn1() {
      // 此时闭包已经存在(函数提升内部函数对象已经创建了)

      var a = 2;
      function fn2() {
        a++;
        console.log(a);
      };
      return fn2;
    };
    var f = fn1();  //本来是应该消失的  但是因为f指向了 fn1()也就是fn2()
    f();//3 
    f(); //4
    f = null; //闭包消失(包含闭包的函数对象成为了垃圾对象)
  </script>
</body>

</html>