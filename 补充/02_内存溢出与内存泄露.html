<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>02_内存溢出与内存泄露</title>
</head>

<body>

  <!--
1. 内存溢出
  * 一种程序运行出现的错误
  * 当程序运行需要的内存超过了剩余的内存时, 就出抛出内存溢出的错误
2. 内存泄露
  * 占用的内存没有及时释放
  * 内存泄露积累多了就容易导致内存溢出
  * 常见的内存泄露:
    * 意外的全局变量
    * 没有及时清理的计时器或回调函数
    * 闭包
-->

  <script type="text/javascript">
    // 1.内存溢出
    // let obj = {};
    // for (let index = 0; index < 10000; index++) {
    //   obj[index] = new Array(1000000);

    // };
    // 2. 内存泄露
    // 意外的全局变量
    function fn() {
      a = 3;
      console.log(a);
    };
    // 定时器不清理
    let count = 0;
    let timer = setInterval(function () {//使用循环定时器后不清理
      console.log("--------");
    }, 1000);
    // clearInterval(timer);
    // 使用闭包不清除
    function fn1() {
      let a = 5;
      function fn2() {
        a++;
        console.log(a);
      };
      return fn2;
    };
    let f=fn1();
    f();
</script>
</body>

</html>